R1  #############################

configure terminal
interface tunnel 1
tunnel source 200.20.3.1
tunnel destination 200.20.1.7
tunnel mode ipip
ip address 192.1.7.1 255.255.255.0

router bgp 200
neighbor 192.1.7.7 remote-as 200
neighbor 192.1.7.7 next-hop-self
neighbor 192.1.3.3 remove-private-as
end
write


R2  ###########################

configure terminal
interface tunnel 2
tunnel source 200.20.2.2
tunnel destination 200.20.1.7
tunnel mode ipip
ip address 192.2.7.2 255.255.255.0

router bgp 200
neighbor 192.2.7.7 remote-as 200
neighbor 192.2.7.7 next-hop-self
neighbor 192.2.4.4 remove-private-as
end
write


R7  ############################

configure terminal
router bgp 200
neighbor 192.7.8.8 remote-as 65000

redistribute ospf 1

interface tunnel 1
tunnel source 200.20.1.7
tunnel destination 200.20.3.1
tunnel mode ipip
ip address 192.1.7.7 255.255.255.0

router bgp 200
neighbor 192.1.7.1 remote-as 200
neighbor 192.1.7.1 next-hop-self

interface tunnel 2
tunnel source 200.20.1.7
tunnel destination 200.20.2.2
tunnel mode ipip
ip address 192.2.7.7 255.255.255.0

router bgp 200
neighbor 192.2.7.2 remote-as 200
neighbor 192.2.7.2 next-hop-self
end
write


R8  ############################

configure terminal
router bgp 65000
neighbor 192.7.8.7 remote-as 200
network 200.50.0.0 mask 255.255.255.0
end
write
